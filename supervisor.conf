# Supervisor configuration untuk Pterodactyl Telegram Bot
# Copy file ini ke /etc/supervisor/conf.d/pterodactyl-bot.conf

[program:pterodactyl-bot]
command=php /path/to/pterodactyl-telegram-bot/index.php polling
directory=/path/to/pterodactyl-telegram-bot
autostart=true
autorestart=true
startretries=3
user=root
numprocs=1
redirect_stderr=true
stdout_logfile=/var/log/supervisor/pterodactyl-bot.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile=/var/log/supervisor/pterodactyl-bot-error.log
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5

# Environment variables (optional, bisa juga pakai .env file)
environment=
    BOT_TOKEN="your_bot_token_here",
    OWNER_TELEGRAM_ID="your_telegram_id",
    PTERODACTYL_PANEL_URL="https://your-panel-domain.com",
    PTERODACTYL_APPLICATION_API_KEY="ptla_your_application_api_key",
    PTERODACTYL_CLIENT_API_KEY="ptlc_your_client_api_key",
    DEBUG_MODE="false"

# Restart policy
stopasgroup=true
killasgroup=true
stopsignal=TERM
stopwaitsecs=10

# Priority (lower number = higher priority)
priority=999

# Commands untuk manage service:
# sudo supervisorctl reread
# sudo supervisorctl update
# sudo supervisorctl start pterodactyl-bot
# sudo supervisorctl stop pterodactyl-bot
# sudo supervisorctl restart pterodactyl-bot
# sudo supervisorctl status pterodactyl-bot
